<?php

// generate by github.com/topica/automatos-laminas on {{ "now"|date("d/m/Y") }}
// <root>/module/{{ module }}/view/{{entity.name|slugify}}/{{ action }}.phtml:

$title = 'Create {{entity.dbTable.name|verbalize}}';

?>
<div class="p-5 mb-4 bg-light rounded-3">
  <h1><?=  $this->escapeHtml($title)  ?></h1><?php 

{%for column in entity.dbTable.columns %}
{%if entity.dbPKColumns[column.name] %}
{%else%}
$element_{{ column.name }} = $form->get('{{ column.name }}');
$element_{{ column.name }}->setAttribute('class', 'form-control');
$element_{{ column.name }}->setAttribute('placeholder', 'placeholder_{{entity.dbTable.name}}-{{ column.name }}');
{%endif%}

{% endfor %}

$element_submit = $form->get('submit');
$element_submit->setAttribute('class', 'btn btn-primary');

$form->setAttribute('action', $this->url('{{module|slugify}}', ['controller' => '{{entity.name|slugify}}', 'action' => 'add'{%for key, table in entity.dbPKColumns %}, 'id'=>$form->get('{{ key }}')->getValue(){%endfor%}]));
$form->prepare();

echo '  '.$this->form()->openTag($form);



?>
{% for column in entity.dbTable.columns %}
{%if entity.dbPKColumns[column.name] %}
{%else%}
  <div class="form-group">
    <?=  $this->formLabel($element_{{ column.name }}) ?>
    <?=  $this->formElement($element_{{ column.name }}) ?>
    <?=  $this->formElementErrors()->render($element_{{ column.name }}, ['class' => 'help-block']) ?>
  </div>
{%endif%}

{% endfor %}


<?php 

{%for key, table in entity.dbPKColumns %}
//echo $this->formHidden($element_{{key}});
{% endfor %}

echo $this->formSubmit($element_submit);
//echo $this->formReset($element_reset);
//echo $this->formButton($element_cancel);// <a class="btn btn-primary">
//echo $this->formSubmit($element_back);

echo $this->form()->closeTag();
?></div>
