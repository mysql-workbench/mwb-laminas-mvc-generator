<?php

// generate by github.com/mysql-workbench/mwb-laminas-mv-generator on {{ "now"|date("d/m/Y") }}
// <root>/module/{{module|slugify}}/view/{{entity.name|slugify}}/{{ action }}.phtml:

$title = 'Create {{entity.name|verbalize}}';

?>
<div class="p-5 mb-4 bg-light rounded-3">
  <h1><?=  $this->escapeHtml($title)  ?></h1><?php 

{% for key in primaryKey %}
$element_{{ key }} = $form->get('{{ key }}');
{% endfor%}{% for property in entity.properties%}{%if property.dbColumn.name in primaryKey %}{%else%}
$element_{{ property.dbColumn.name }} = $form->get('{{ property.dbColumn.name }}');
$element_{{ property.dbColumn.name }}->setAttribute('class', 'form-control');
$element_{{ property.dbColumn.name }}->setAttribute('placeholder', 'placeholder_{{entity.name}}-{{ property.dbColumn.name }}');
{%endif%}

{% endfor %}

$element_submit = $form->get('submit');
$element_submit->setAttribute('class', 'btn btn-primary');

$form->setAttribute('action', $this->url('{{module|slugify}}', ['controller' => '{{entity.name|slugify}}', 'action' => 'edit'{%for key, table in entity.dbPKColumns %}, 'id'=>$element_{{key}}->getValue(){%endfor%}]));
$form->prepare();

echo '  '.$this->form()->openTag($form);



?>
{% for column in entity.dbTable.columns %}
{%if entity.dbPKColumns[column.name] %}
{%else%}
  <div class="form-group">
    <?=  $this->formLabel($element_{{ column.name }}) ?>
    <?=  $this->formElement($element_{{ column.name }}) ?>
    <?=  $this->formElementErrors()->render($element_{{ column.name }}, ['class' => 'help-block']) ?>
  </div>
{%endif%}
{% endfor %}

<?php 

{%for key, table in entity.dbPKColumns %}
echo $this->formHidden($element_{{key}});
{%endfor%}

echo $this->formSubmit($element_submit);
//echo $this->formReset($element_reset);
//echo $this->formButton($element_cancel);// <a class="btn btn-primary">
//echo $this->formSubmit($element_back);

echo $this->form()->closeTag();
?></div>
